{"version":3,"sources":["webpack:///webpack/bootstrap 071b496f99a55f013ea6","webpack:///./inject/inject.js"],"names":["injectScript","file","node","s","th","document","getElementsByTagName","i","length","createElement","setAttribute","item","appendChild","injectToIframe","ifDoc","contentWindow","body","window","addEventListener","event","source","message","data","chrome","runtime","sendMessage","setTimeout","extension","getURL","onMessage","addListener","$source","postMessage"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;ACtCA,UAASA,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AAC9B,OAAIC,CAAJ,EAAOC,EAAP;AACAA,QAAKC,SAASC,oBAAT,CAA8BJ,IAA9B,CAAL;AACA,QAAI,IAAIK,IAAI,CAAZ,EAAeA,IAAIH,GAAGI,MAAtB,EAA8BD,GAA9B,EAAkC;AAChCJ,SAAIE,SAASI,aAAT,CAAuB,QAAvB,CAAJ;AACAN,OAAEO,YAAF,CAAe,MAAf,EAAuB,iBAAvB;AACAP,OAAEO,YAAF,CAAe,KAAf,EAAsBT,IAAtB;AACAE,OAAEO,YAAF,CAAe,cAAf,EAA8B,sBAA9B;AACF,YAAON,GAAGO,IAAH,CAAQ,CAAR,EAAWC,WAAX,CAAuBT,CAAvB,CAAP;AACC;AACJ;;AAED,UAASU,cAAT,CAAwBZ,IAAxB,EAA8B;AAC1B,OAAIE,CAAJ,EAAOC,EAAP;AACAA,QAAKC,SAASC,oBAAT,CAA8B,QAA9B,CAAL;AACA,QAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIH,GAAGI,MAAtB,EAA8BD,GAA9B,EAAkC;AAChC,SAAIO,QAAQV,GAAGO,IAAH,CAAQJ,CAAR,EAAWQ,aAAX,CAAyBV,QAArC;AACAF,SAAIW,MAAML,aAAN,CAAoB,QAApB,CAAJ;AACAN,OAAEO,YAAF,CAAe,MAAf,EAAuB,iBAAvB;AACAP,OAAEO,YAAF,CAAe,KAAf,EAAsBT,IAAtB;AACAE,OAAEO,YAAF,CAAe,cAAf,EAA8B,sBAA9B;AACA,YAAOI,MAAME,IAAN,CAAWJ,WAAX,CAAuBT,CAAvB,CAAP;AACD;AACJ;;AAEDc,QAAOC,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAgB;AACjD;AACA,OAAIA,MAAMC,MAAN,KAAiBH,MAArB,EAA6B;AAC3B;AACD;AACD,OAAII,UAAUF,MAAMG,IAApB;;AAEA,OAAI,QAAOD,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+BA,YAAY,IAA3C,IACA,CAACA,QAAQD,MAAT,KAAoB,oBADxB,EAC8C;AAC5C;AACD;AACDG,UAAOC,OAAP,CAAeC,WAAf,CAA2BJ,OAA3B;AACD,EAZD;;AAcAJ,QAAOC,gBAAP,CAAwB,kBAAxB,EAA4C,YAAM;AAChDQ,cAAW,YAAU;AAAE;AACrB1B,kBAAauB,OAAOI,SAAP,CAAiBC,MAAjB,CAAwB,iBAAxB,CAAb,EAAyD,MAAzD;AACAf,oBAAeU,OAAOI,SAAP,CAAiBC,MAAjB,CAAwB,iBAAxB,CAAf;AACD,IAHD,EAGE,IAHF;AAID,EALD;;AAOAL,QAAOC,OAAP,CAAeK,SAAf,CAAyBC,WAAzB,CAAqC,UAACT,OAAD,EAAW;AAC9C,OAAGA,QAAQU,OAAR,KAAoB,6BAAvB,EAAqD;AACnDd,YAAOe,WAAP,CAAmBX,OAAnB,EAA2B,GAA3B;AACD;AACF,EAJD,E","file":"./lib/inject.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 071b496f99a55f013ea6","function injectScript(file, node) {\n    var s, th;\n    th = document.getElementsByTagName(node);\n    for(var i = 0; i < th.length; i++){\n      s = document.createElement('script');\n      s.setAttribute('type', 'text/javascript');\n      s.setAttribute('src', file);\n      s.setAttribute('x-injectedBy',\"GrimoireJS Inspector\");\n    return th.item(0).appendChild(s);\n    }\n};\n\nfunction injectToIframe(file) {\n    var s, th;\n    th = document.getElementsByTagName(\"iframe\");\n    for(var i = 0; i < th.length; i++){\n      var ifDoc = th.item(i).contentWindow.document;\n      s = ifDoc.createElement('script');\n      s.setAttribute('type', 'text/javascript');\n      s.setAttribute('src', file);\n      s.setAttribute('x-injectedBy',\"GrimoireJS Inspector\");\n      return ifDoc.body.appendChild(s);\n    }\n};\n\nwindow.addEventListener('message', function(event) {\n  // Only accept messages from the same frame\n  if (event.source !== window) {\n    return;\n  }\n  var message = event.data;\n\n  if (typeof message !== 'object' || message === null ||\n      !message.source === 'grimoire-inspector') {\n    return;\n  }\n  chrome.runtime.sendMessage(message);\n});\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  setTimeout(function(){ // TODO to load with injected iframe(such as grimoire.gl-examples). Should use mutation observer\n    injectScript(chrome.extension.getURL('../lib/embed.js'), \"body\");\n    injectToIframe(chrome.extension.getURL('../lib/embed.js'));\n  },5000);\n});\n\nchrome.runtime.onMessage.addListener((message)=>{\n  if(message.$source === \"grimoire-inspector-dev-tool\"){\n    window.postMessage(message,\"*\");\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./inject/inject.js"],"sourceRoot":""}